import{f as p,u as b,b as f,r as g,j as e,d as P,B as C,R as F}from"./index-B4JSXv2W.js";import{C as L}from"./card-CzFt25RS.js";import{P as j}from"./password-input-CLmRClK3.js";import{F as S,a as o,b as l,c,d as i,e as m}from"./form-CLnpsYva.js";import{I as x}from"./input-DvozWGYG.js";import{z as t,u as I,t as k}from"./index-Cb-Ll9hb.js";const R=t.object({name:t.string().min(1,{message:"Please enter your name"}),email:t.string().min(1,{message:"Please enter your email"}).email({message:"Invalid email address"}),password:t.string().min(1,{message:"Please enter your password"}).min(7,{message:"Password must be at least 7 characters long"}),confirmPassword:t.string(),phone:t.string().min(1,{message:"Please enter your phone number"}).regex(/^\d{10}$/,{message:"Phone number must be 10 digits"})}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match.",path:["confirmPassword"]});function E({className:r,...d}){const h=p(),{HandlePostRequest:y}=b(),{handleLoggedIn:w}=f(),[N,u]=g.useState(!1),a=I({resolver:k(R),defaultValues:{name:"",email:"",phone:"",password:"",confirmPassword:""}});async function v(s){u(!0);const n=await y({data:s,route:F.commonRegisterRoute,type:"post",toastDescription:"User has registered successfully!"});u(!1),(n==null?void 0:n.status)===200&&(w(n==null?void 0:n.data),h("../auth/otp"))}return e.jsx("div",{className:P("grid gap-6",r),...d,children:e.jsx(S,{...a,children:e.jsx("form",{onSubmit:a.handleSubmit(v),children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{control:a.control,name:"name",render:({field:s})=>e.jsxs(l,{className:"space-y-1",children:[e.jsx(c,{children:"Owner Name"}),e.jsx(i,{children:e.jsx(x,{placeholder:"John Doe",...s})}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"email",render:({field:s})=>e.jsxs(l,{className:"space-y-1",children:[e.jsx(c,{children:"Owner's Email"}),e.jsx(i,{children:e.jsx(x,{type:"email",placeholder:"john@washing.com",...s})}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"phone",render:({field:s})=>e.jsxs(l,{className:"space-y-1",children:[e.jsx(c,{children:"Owner's Contact No"}),e.jsx(i,{children:e.jsx(x,{type:"tel",placeholder:"+91 9898XXXXXX",...s})}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"password",render:({field:s})=>e.jsxs(l,{className:"space-y-1",children:[e.jsx(c,{children:"Password"}),e.jsx(i,{children:e.jsx(j,{placeholder:"********",...s})}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"confirmPassword",render:({field:s})=>e.jsxs(l,{className:"space-y-1",children:[e.jsx(c,{children:"Confirm Password"}),e.jsx(i,{children:e.jsx(j,{placeholder:"********",...s})}),e.jsx(m,{})]})}),e.jsx(C,{className:"mt-2",loading:N,children:"Create Account"}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsxs("span",{className:"bg-background px-2 text-muted-foreground",children:["Already have an account, Â  ",e.jsx("b",{className:"fw-bold cursor-pointer underline underline-offset-4 hover:text-primary",onClick:()=>h("../auth/sign-in"),children:"Login Here"})]})})]})]})})})})}function q(){const{isLoggedIn:r}=f(),d=p();return g.useLayoutEffect(()=>{r&&d("../dashboard")},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container grid h-svh flex-col items-center justify-center bg-primary-foreground lg:max-w-none lg:px-0",children:e.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-2 sm:w-[480px] lg:p-8",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:e.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})}),e.jsx("h1",{className:"text-xl font-medium",children:"Washing Center  "})]}),e.jsxs(L,{className:"p-6",children:[e.jsxs("div",{className:"mb-2 flex flex-col space-y-2 text-left",children:[e.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Create an account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and password to create an account."})]}),e.jsx(E,{}),e.jsxs("p",{className:"mt-4 px-8 text-center text-sm text-muted-foreground",children:["By creating an account, you agree to our"," ",e.jsx("a",{href:"/terms",className:"underline underline-offset-4 hover:text-primary",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"underline underline-offset-4 hover:text-primary",children:"Privacy Policy"}),"."]})]})]})})})}export{q as default};
