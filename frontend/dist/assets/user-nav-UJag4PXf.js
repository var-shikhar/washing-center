import{c as g,K as z,r as l,j as e,B as p,d as i,h as F,k as f,N as P,o as j,f as U,u as q,b as D,R as B}from"./index-DZW2IOEh.js";import{D as N,a as w,b as A,e as m,c as $,d as G,f as K}from"./dropdown-menu-Qxyimtk2.js";import{c as O}from"./commonFn-D6AOWzB5.js";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var h=g("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H=g("outline","moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q=g("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);function ae(){const{theme:s,setTheme:t}=z();return l.useEffect(()=>{const n=s==="dark"?"#020817":"#fff",a=document.querySelector("meta[name='theme-color']");a&&a.setAttribute("content",n)},[s]),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(p,{variant:"ghost",size:"icon",className:"scale-95 rounded-full",children:[e.jsx(Q,{className:"size-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(H,{className:"absolute size-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(A,{align:"end",children:[e.jsxs(m,{onClick:()=>t("light"),children:["Light"," ",e.jsx(h,{size:14,className:i("ml-auto",s!=="light"&&"hidden")})]}),e.jsxs(m,{onClick:()=>t("dark"),children:["Dark",e.jsx(h,{size:14,className:i("ml-auto",s!=="dark"&&"hidden")})]}),e.jsxs(m,{onClick:()=>t("system"),children:["System",e.jsx(h,{size:14,className:i("ml-auto",s!=="system"&&"hidden")})]})]})]})}var x="Avatar",[V,se]=F(x),[J,k]=V(x),S=l.forwardRef((s,t)=>{const{__scopeAvatar:n,...a}=s,[r,o]=l.useState("idle");return e.jsx(J,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:o,children:e.jsx(f.span,{...a,ref:t})})});S.displayName=x;var y="AvatarImage",C=l.forwardRef((s,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:r=()=>{},...o}=s,d=k(y,n),c=W(a),u=P(v=>{r(v),d.onImageLoadingStatusChange(v)});return j(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?e.jsx(f.img,{...o,ref:t,src:a}):null});C.displayName=y;var M="AvatarFallback",L=l.forwardRef((s,t)=>{const{__scopeAvatar:n,delayMs:a,...r}=s,o=k(M,n),[d,c]=l.useState(a===void 0);return l.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(u)}},[a]),d&&o.imageLoadingStatus!=="loaded"?e.jsx(f.span,{...r,ref:t}):null});L.displayName=M;function W(s){const[t,n]=l.useState("idle");return j(()=>{if(!s){n("error");return}let a=!0;const r=new window.Image,o=d=>()=>{a&&n(d)};return n("loading"),r.onload=o("loaded"),r.onerror=o("error"),r.src=s,()=>{a=!1}},[s]),t}var I=S,R=C,b=L;const E=l.forwardRef(({className:s,...t},n)=>e.jsx(I,{ref:n,className:i("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));E.displayName=I.displayName;const T=l.forwardRef(({className:s,...t},n)=>e.jsx(R,{ref:n,className:i("aspect-square h-full w-full",s),...t}));T.displayName=R.displayName;const _=l.forwardRef(({className:s,...t},n)=>e.jsx(b,{ref:n,className:i("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));_.displayName=b.displayName;const{getNameAbbreviation:X}=O;function te(){const s=U(),{HandleGetRequest:t}=q(),{handleLoggedOut:n,userData:a}=D();async function r(){const o=await t({route:B.getLogoutRoute});(o==null?void 0:o.status)===200&&(n(),s("../"))}return e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(p,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(E,{className:"h-8 w-8",children:[e.jsx(T,{src:"/avatars/01.png",alt:"@washing-center"}),e.jsx(_,{children:X((a==null?void 0:a.userName)??"User")})]})})}),e.jsxs(A,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx($,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.userName}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a==null?void 0:a.userEmail})]})}),e.jsx(G,{}),e.jsxs(m,{onClick:r,className:"cursor-pointer",children:["Log out",e.jsx(K,{children:"⇧⌘Q"})]})]})]})}export{E as A,ae as T,te as U,T as a,_ as b};
