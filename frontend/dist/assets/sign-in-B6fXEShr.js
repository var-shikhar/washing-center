import{f as h,u as N,b as f,r as g,j as e,d as b,B as y,R as F}from"./index-SPzxwvR_.js";import{C as L}from"./card-CJgM2Q2f.js";import{P as I}from"./password-input-7nzLC5oQ.js";import{F as k,a as c,b as m,c as d,d as x,e as u}from"./form-Bhtnglzu.js";import{I as C}from"./input-Dn-YVckF.js";import{z as i,u as S,t as P}from"./index-DQNHyGGL.js";const E=i.object({email:i.string().min(1,{message:"Please enter your email"}).email({message:"Invalid email address"}),password:i.string().min(1,{message:"Please enter your password"}).min(7,{message:"Password must be at least 7 characters long"})});function R({className:r,...o}){const n=h(),{HandlePostRequest:j}=N(),{handleLoggedIn:p}=f(),[v,l]=g.useState(!1),t=S({resolver:P(E),defaultValues:{email:"",password:""}});async function w(a){l(!0);const s=await j({data:a,route:F.commonLoginRoute,type:"post",toastDescription:"User has loggedin successfully!"});l(!1),(s==null?void 0:s.status)===200&&(p(s==null?void 0:s.data),n("../dashboard"))}return e.jsx("div",{className:b("grid gap-6",r),...o,children:e.jsx(k,{...t,children:e.jsx("form",{onSubmit:t.handleSubmit(w),children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{control:t.control,name:"email",render:({field:a})=>e.jsxs(m,{className:"space-y-1",children:[e.jsx(d,{children:"Email"}),e.jsx(x,{children:e.jsx(C,{placeholder:"name@example.com",...a})}),e.jsx(u,{})]})}),e.jsx(c,{control:t.control,name:"password",render:({field:a})=>e.jsxs(m,{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Password"}),e.jsx("div",{onClick:()=>n("/auth/forgot-password"),className:"text-sm font-medium text-muted-foreground cursor-pointer hover:text-primary",children:"Forgot password?"})]}),e.jsx(x,{children:e.jsx(I,{placeholder:"********",...a})}),e.jsx(u,{})]})}),e.jsx(y,{className:"mt-2",loading:v,children:"Login"}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsxs("span",{className:"bg-background px-2 text-muted-foreground",children:["Don't have an account, Â  ",e.jsx("b",{className:"fw-bold cursor-pointer underline underline-offset-4 hover:text-primary",onClick:()=>n("../auth/sign-up"),children:"SignUp Here"})]})})]})]})})})})}function M(){const{isLoggedIn:r}=f(),o=h();return g.useLayoutEffect(()=>{r&&o("../dashboard")},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container grid h-svh flex-col items-center justify-center bg-primary-foreground lg:max-w-none lg:px-0",children:e.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-2 sm:w-[480px] lg:p-8",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:e.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})}),e.jsx("h1",{className:"text-xl font-medium",children:"Washing Center  "})]}),e.jsxs(L,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-2 text-left",children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Login"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Enter your email and password below ",e.jsx("br",{}),"to log into your account"]})]}),e.jsx(R,{})]})]})})})}export{M as default};
