import{c as z,r as t,j as e,f as q,b as U,u as M,R as B,d as E,B as A}from"./index-DZW2IOEh.js";import{C as H}from"./customDialog-dtB0jjDb.js";import{S as G,a as J,b as Q,c as W,e as K}from"./select-DD8cZ_nD.js";import{I as Y}from"./IconAdjustmentsHorizontal-CFdSzXd4.js";import{T as Z,U as _}from"./user-nav-UJag4PXf.js";import{I as ee}from"./input-88kJyLvv.js";import{S as se}from"./separator-DKPk4O0a.js";import{L as F}from"./dropdown-menu-Qxyimtk2.js";import{C as T}from"./customTooltip-CM7SmVdG.js";import{z as k,u as $,t as V}from"./index-DBteWeKz.js";import{I as te}from"./IconSquareRoundedXFilled-CTEXB87M.js";import{I as ae}from"./IconSquareRoundedPlusFilled-Bv4fdZ43.js";import{I as ne}from"./IconLayoutDashboard-LBGPYZUB.js";import"./dialog-DsMCMXcY.js";import"./index-BRe-duKX.js";import"./index-Buxa1mOX.js";import"./index-D6bVBiHi.js";import"./index-RrVpSNeA.js";import"./index-BrotWGZe.js";import"./index-ochMHOz7.js";import"./commonFn-D6AOWzB5.js";import"./index-DnILlKh2.js";import"./tooltip-DROGGXKL.js";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ie=z("outline","calendar-clock","IconCalendarClock",[["path",{d:"M10.5 21h-4.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v3",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h10",key:"svg-3"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-4"}],["path",{d:"M18 16.5v1.5l.5 .5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var re=z("outline","status-change","IconStatusChange",[["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M6 12v-2a6 6 0 1 1 12 0v2",key:"svg-2"}],["path",{d:"M15 9l3 3l3 -3",key:"svg-3"}]]);const O=({list:d,slug:o,selectedValue:a,onChange:h})=>{const r=d.find(c=>c[o.value]===a)??null;return t.useEffect(()=>{console.log(r)},[r]),e.jsx("div",{children:e.jsxs(G,{value:a,onValueChange:h,children:[e.jsx(J,{className:"w-auto",children:e.jsx(Q,{children:e.jsx("div",{className:"flex gap-2 items-center",children:r!==null?r[o.label]:e.jsx(Y,{size:18})})})}),e.jsx(W,{align:"end",children:Array.isArray(d)&&d.length>0&&d.map((c,l)=>e.jsx(K,{value:c[o.value],children:e.jsx("div",{children:c[o.label]})},l))})]})})},le=()=>{const d=q(),{isLoggedIn:o,selectedCenter:a}=U(),{HandleGetRequest:h}=M(),[r,c]=t.useState({apiData:!0,bookingList:!0}),[l,m]=t.useState(!1),[b,S]=t.useState({title:"",id:""}),[j,s]=t.useState("ascending"),[i,y]=t.useState(""),[u,f]=t.useState(""),[L,R]=t.useState([]),[D,C]=t.useState([]),[x,n]=t.useState([]);t.useLayoutEffect(()=>{o||d("../auth/sign-in")},[o]),t.useEffect(()=>{r.apiData&&v(B.getAPIBooking,"apiData"),r.bookingList&&a&&v(`${B.commonBookingRoute}/${a}`,"bookingList")},[r.apiData,r.bookingList,a]),t.useEffect(()=>{if((D==null?void 0:D.length)>0){let g=D.sort((w,p)=>{var I;return j==="ascending"?(I=w.clientName)==null?void 0:I.localeCompare(p.clientName):p.clientName.localeCompare(w.clientName)});u!==""&&(g=g.filter(w=>w.clientName.toLowerCase().includes(u.toLowerCase()))),i!==""&&(g=g.filter(w=>w.serviceID.toString().toLowerCase()===i.toString().toLowerCase())),t.startTransition(()=>{n(g)})}},[j,u,i,D]);async function v(g,w){const p=await h({route:g});(p==null?void 0:p.status)===200&&t.startTransition(()=>{c(I=>({...I,[w]:!1})),w==="apiData"?R(p.data):C(p.data)})}function N(){t.startTransition(()=>{c(g=>({...g,bookingList:!0}))})}return{apiData:L,modalToggle:l,setModalToggle:m,selectedSort:j,setSelectedSort:s,selectedService:i,setSelectedService:y,searchTerm:u,setSearchTerm:f,modalData:b,setModalData:S,filteredList:x,handleConfirmation:N}},oe=[{label:"Ascending",value:"ascending"},{label:"Descending",value:"descending"}],ce=[{label:"Confirmed",value:"Confirmed"},{label:"Rescheduled",value:"Rescheduled"},{label:"Cancelled",value:"Cancelled"},{label:"Completed",value:"Completed"}],X={sortingList:oe,bookingStatus:ce},de=()=>{var C;const d=q(),{isLoggedIn:o,selectedCenter:a}=U(),{HandlePostRequest:h,HandleGetRequest:r}=M(),[c,l]=t.useState(!0),[m,b]=t.useState([]),[S,j]=t.useState(0),[s,i]=t.useState(null),y={userName:"",userEmail:"",userPhone:"",bookingDate:new Date().toISOString().split("T")[0],bookingTime:new Date().toTimeString().split(" ")[0],message:"Backend Booking Request"},[u,f]=t.useState({serviceID:(s==null?void 0:s.id)??"",centerID:a??"",servicePrice:(s==null?void 0:s.discPrice)??0,serviceAddons:((C=s==null?void 0:s.addons)==null?void 0:C.map(x=>({addonID:x.serviceID,addonPrice:x.price,addonDiscPrice:x.discPrice})))??[],isCustomizable:(s==null?void 0:s.isCustomizable)??!1,totalDiscountedPrice:(s==null?void 0:s.totalDiscountedPrice)??(s==null?void 0:s.discPrice)??0,totalPrice:(s==null?void 0:s.totalPrice)??(s==null?void 0:s.price)??0});t.useLayoutEffect(()=>{(!o||!a)&&d("../auth/sign-in")},[o,a]),t.useEffect(()=>{c&&a&&L(`${B.commonAdminServiceBooking}/${a}`)},[c,a]),t.useEffect(()=>{var x;if(s&&a){const n={serviceID:s.id,centerID:a,servicePrice:s.discPrice,serviceAddons:((x=s.addons)==null?void 0:x.map(v=>({addonID:v.serviceID,addonPrice:v.price,addonDiscPrice:v.discPrice})))??[],isCustomizable:s.isCustomizable,totalDiscountedPrice:s.totalDiscountedPrice??s.discPrice,totalPrice:s.totalPrice??s.price};t.startTransition(()=>{f(n)})}},[s]);async function L(x){const n=await r({route:x});(n==null?void 0:n.status)===200&&t.startTransition(()=>{b(n.data),l(!1)})}async function R(x,n){const v={...x,...u},N=await h({data:v,route:B.commonAdminServiceBooking,type:"post",toastDescription:"Booking has been created successfully!"});(N==null?void 0:N.status)===200&&n(N==null?void 0:N.data)}function D(x,n){if(s){let v=u.totalPrice,N=u.totalDiscountedPrice;const g=[...u.serviceAddons||[]],w=g.findIndex(p=>p.addonID.toString()===x.toString());if(n==="add")if(w===-1){const p=s.addons.find(I=>I.serviceID.toString()===x.toString());if(p)g.push({addonID:p.serviceID,addonPrice:p.price,addonDiscPrice:p.discPrice}),N+=p.discPrice,v+=p.price;else{console.error(`Addon with ID ${x} not found in bookedService.`);return}}else console.log(`Addon with ID ${x} is already added.`);else if(n==="remove")if(w!==-1)v-=g[w].addonPrice,N-=g[w].addonDiscPrice,g.splice(w,1);else{console.error(`Addon with ID ${x} not found for removal.`);return}t.startTransition(()=>{f(p=>({...p,totalPrice:v,totalDiscountedPrice:N,serviceAddons:g}))})}}return{serviceList:m,selectedService:s,defaultValues:y,selectedPhase:S,servicePricing:u,setSelectedService:i,setSelectedPhase:j,handleFormSubmission:R,handleCustomizableAddons:D}},me=k.object({userName:k.string().min(2,{message:"Name should have at least 2 characters"}),userPhone:k.string().min(10,{message:"Phone number must be 10 digits"}).max(10,{message:"Phone number must be 10 digits"}),userEmail:k.string().min(1,{message:"Please enter your email"}).email({message:"Invalid email address"}),bookingDate:k.string().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Invalid date format"}),bookingTime:k.string().regex(/^\d{2}:\d{2}:\d{2}$/,{message:"Invalid time format"}),message:k.string().min(2,{message:"Message should have at least 2 characters"})}),ue=({className:d,handleConfirmation:o,...a})=>{var x;const{selectedPhase:h,servicePricing:r,defaultValues:c,serviceList:l,selectedService:m,setSelectedService:b,setSelectedPhase:S,handleFormSubmission:j,handleCustomizableAddons:s}=de(),{register:i,handleSubmit:y,reset:u,formState:{errors:f,isValid:L,isDirty:R,isSubmitting:D}}=$({resolver:V(me),defaultValues:c,mode:"onChange"});t.useEffect(()=>{c&&u(c)},[]);async function C(n){j(n,o)}return e.jsx("div",{className:E("grid gap-6",d),...a,children:e.jsx("form",{onSubmit:y(C),className:"p-6 bg-white rounded-lg shadow-md",children:h===0?e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"form-control w-[100%] p-2 border my-5",value:JSON.stringify(m),onChange:n=>b(JSON.parse(n.target.value)),children:[e.jsx("option",{value:"",children:"Select Service"}),l.map(n=>e.jsx("option",{value:JSON.stringify(n),children:n.serviceName},n.id))]}),m!==null&&e.jsxs("div",{className:"sm:px-2",children:[e.jsx("div",{className:"text-black font-semibold",children:"Service Price"}),e.jsx("hr",{className:"border-black mb-2"}),e.jsxs("div",{className:"flex gap-1 flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"",children:"Base Price"}),e.jsxs("div",{className:"font-semibold text-green-500",children:[e.jsxs("del",{className:"text-destructive text-xs",children:["₹ ",m.price,"/-"]}),"   ₹ ",m.discPrice,"/-"]})]}),(x=m.addons)==null?void 0:x.map(n=>{var v,N;return e.jsxs("div",{className:`flex justify-between items-center rounded px-2 ${m.isCustomizable&&!((v=r.serviceAddons)!=null&&v.some(g=>g.addonID.toString()===n.serviceID.toString()))&&"line-through bg-red-200 text-red-500 hover:text-red-700 transition duration-300"} `,children:[e.jsx("div",{className:"truncate",children:n.serviceName}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"font-semibold text-green-500",children:[e.jsxs("del",{className:"text-destructive text-xs",children:["₹ ",n.price,"/-"]}),"   ₹ ",n.discPrice,"/-"]}),m.isCustomizable&&e.jsx(e.Fragment,{children:(N=r.serviceAddons)!=null&&N.some(g=>g.addonID.toString()===n.serviceID.toString())?e.jsx(T,{isTextOnly:!0,content:"Remove Addon Service",trigger:e.jsx(te,{className:"cursor-pointer text-red-800",onClick:()=>s(n.serviceID,"remove")})}):e.jsx(T,{isTextOnly:!0,content:"Add Addon Service",trigger:e.jsx(ae,{className:"cursor-pointer text-green-800",onClick:()=>s(n.serviceID,"add")})})})]})]},n.serviceID)})]}),e.jsx("hr",{className:"border-black my-2"}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("div",{className:"text-black",children:"Total Price"}),e.jsxs("div",{className:"font-semibold text-green-500",children:[e.jsxs("del",{className:"text-destructive text-sm",children:["₹ ",r.totalPrice,"/-"]}),"   ₹ ",r.totalDiscountedPrice,"/-"]})]}),e.jsx(A,{className:"mt-2 w-full",type:"button",onClick:()=>S(3),children:"Next"})]})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Booking Details"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"User Name"}),e.jsx("input",{type:"text",...i("userName"),placeholder:"John Doe",className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),f.userName&&e.jsx("p",{className:"text-red-600 text-sm",children:f.userName.message})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"User Phone"}),e.jsx("input",{type:"tel",...i("userPhone"),placeholder:"9898XXXXXX",className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),f.userPhone&&e.jsx("p",{className:"text-red-600 text-sm",children:f.userPhone.message})]}),e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"User Email"}),e.jsx("input",{type:"email",...i("userEmail"),placeholder:"john@example.com",className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),f.userEmail&&e.jsx("p",{className:"text-red-600 text-sm",children:f.userEmail.message})]})]}),e.jsxs("div",{className:"mb-4 flex flex-col lg:flex-row lg:space-x-4",children:[e.jsxs("div",{className:"flex-1 mb-4 lg:mb-0",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Booking Date"}),e.jsx("input",{type:"date",...i("bookingDate"),min:new Date().toISOString().split("T")[0],className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),f.bookingDate&&e.jsx("p",{className:"text-red-600 text-sm",children:f.bookingDate.message})]}),e.jsxs("div",{className:"flex-1 mb-4 lg:mb-0",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Booking Time"}),e.jsx("input",{type:"time",...i("bookingTime"),min:new Date().toTimeString().split(" ")[0],className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),f.bookingTime&&e.jsx("p",{className:"text-red-600 text-sm",children:f.bookingTime.message})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Message"}),e.jsx("textarea",{...i("message"),rows:3,className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),f.message&&e.jsx("p",{className:"text-red-600 text-sm",children:f.message.message})]}),e.jsx(A,{className:"mt-2 w-full",type:"submit",disabled:!R||!L||D,children:"Book Service"})]})})})},xe=k.object({id:k.string(),newDate:k.string().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Invalid date format"}).refine(d=>{const o=new Date(d),a=new Date;return a.setHours(0,0,0,0),o>a},{message:"The date must be greater than today"}),newTime:k.string().nonempty({message:"New time is required"})});function ge({className:d,bookingID:o,handleConfirmation:a,...h}){const{HandlePostRequest:r}=M(),{register:c,handleSubmit:l,formState:{errors:m,isValid:b}}=$({resolver:V(xe),mode:"onChange",defaultValues:{id:o,newDate:new Date().toISOString().split("T")[0],newTime:new Date().toTimeString().split(" ")[0]}});async function S(j){const s=await r({route:B.commonBookingRescheduleRoute,data:j,toastDescription:"Booking has rescheduled successfully",type:"put"});(s==null?void 0:s.status)===200&&a()}return e.jsx("div",{className:E("grid gap-6",d),...h,children:e.jsxs("form",{onSubmit:l(S),className:"p-6 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"New Date"}),e.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],...c("newDate"),className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),m.newDate&&e.jsx("p",{className:"text-red-600 text-sm",children:m.newDate.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"New Time"}),e.jsx("input",{type:"time",...c("newTime"),min:new Date().toTimeString().split(" ")[0],className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),m.newTime&&e.jsx("p",{className:"text-red-600 text-sm",children:m.newTime.message})]}),e.jsx(A,{className:"mt-2 w-full",type:"submit",disabled:!b,children:"Reschedule Booking"})]})})}const{bookingStatus:P}=X,he=k.object({id:k.string(),statusID:k.string().nonempty({message:"Status is required"})});function fe({className:d,bookingID:o,prevStatus:a,handleConfirmation:h,...r}){const{HandlePostRequest:c}=M(),{register:l,handleSubmit:m,formState:{errors:b,isValid:S}}=$({resolver:V(he),mode:"onChange",defaultValues:{id:o,statusID:""}});async function j(s){const i=await c({route:B.commonBookingRoute,data:s,toastDescription:"Status has updated successfully",type:"put"});(i==null?void 0:i.status)===200&&h()}return e.jsx("div",{className:E("grid gap-6",d),...r,children:e.jsxs("form",{onSubmit:m(j),className:"p-6 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Select Status"}),e.jsx("select",{...l("statusID"),className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full",children:P==null?void 0:P.map(s=>{const i=a===P[0].value,y=a===P[1].value,u=i&&s.value===P[1].value||y&&(s.value===P[0].value||s.value===P[1].value);return e.jsx("option",{value:s.value,disabled:u,children:s.label},s.value)})}),b.statusID&&e.jsx("p",{className:"text-red-600 text-sm",children:b.statusID.message})]}),e.jsx(A,{className:"mt-2 w-full",type:"submit",disabled:!S,children:"Reschedule Booking"})]})})}const pe=({list:d,handleConfirmation:o})=>{const[a,h]=t.useState(!1),[r,c]=t.useState("View"),[l,m]=t.useState({});function b(s,i){t.startTransition(()=>{m(s),h(!0),c(i)})}function S(){h(!a),o()}const j=()=>{var s,i;return e.jsxs("div",{className:"rounded bg-slate-300 p-3",children:[e.jsx("div",{className:"text-2xl font-semibold",children:l.serviceName}),((s=l==null?void 0:l.addonList)==null?void 0:s.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t-2 border-b-2 my-2",children:"Addon List"}),e.jsx("div",{className:"flex gap-2 flex-col",children:(i=l==null?void 0:l.addonList)==null?void 0:i.map(y=>e.jsx("b",{children:y.addonName},y.addonID))})]})]})};return e.jsxs("div",{className:"overflow-x-auto overscroll-y-none",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 rounded-s py-3 text-left font-bold text-xs text-white bg-black uppercase tracking-wider md:px-6",children:"S.No."}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Appointment ID"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Client Details"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Appintment Date & Time"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Booked Service"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Total Amount"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Message"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Status"})}),e.jsx("th",{className:"px-2 rounded-e py-3 text-left font-bold text-xs text-white bg-black uppercase tracking-wider md:px-6",children:"Interact"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d==null?void 0:d.map((s,i)=>e.jsxs("tr",{className:"bg-gray-50 text-gray-900 hover:bg-gray-100",children:[e.jsxs("td",{className:"py-4 text-center relative",children:[s.isRescheduled&&e.jsx("div",{className:"absolute top-0 left-0 rounded-r-sm px-3 text-sm font-semibold bg-red-300 text-red-600",children:"Rescheduled"}),i+1]}),e.jsx("td",{className:"py-4",children:s.id}),e.jsxs("td",{className:"py-4 text-center",children:[s.clientName,e.jsx("br",{})," ",e.jsx("small",{children:s.clientNumber})]}),e.jsxs("td",{className:"py-4 text-center",children:[new Date(s.appointmentDate).toLocaleDateString("en-GB")," ",e.jsx("br",{}),new Date(`1970-01-01T${s.appointmentTime}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]}),e.jsx("td",{className:"py-4 text-center",children:s.serviceName}),e.jsxs("td",{className:"py-4 text-center",children:["₹ ",s.totalAmount,"/-"]}),e.jsx("td",{className:"py-4",children:e.jsx("div",{className:"text-center w-28 truncate",children:e.jsx(T,{content:s.message,trigger:e.jsx("div",{className:"w-[100%] truncate",children:s.message})})})}),e.jsx("td",{className:"py-4 text-center",children:s.status}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(T,{content:"View Booked Services",trigger:e.jsx(ne,{className:"cursor-pointer rounded-md border p-1 bg-slate-400 hover:bg-slate-600 transition-all fade-in-100 text-black hover:text-white",size:"25",onClick:()=>b(s,"View")})}),e.jsx(T,{content:"Reschedule Booking Request",trigger:e.jsx(ie,{className:"cursor-pointer rounded-md border p-1 bg-slate-400 hover:bg-slate-600 transition-all fade-in-100 text-black hover:text-white",size:"25",onClick:()=>b(s,"ReSchedule")})}),s.status!=="Cancelled"&&s.status!=="Completed"&&e.jsx(T,{content:"Update Booking Status",trigger:e.jsx(re,{className:"cursor-pointer rounded-md border p-1 bg-slate-400 hover:bg-slate-600 transition-all fade-in-100 text-black hover:text-white",size:"25",onClick:()=>b(s,"Status")})})]})})]},s.id))})]}),e.jsx(H,{isOpen:a,setISOpen:h,hasTrigger:!1,title:r==="View"?"Booking Details":r==="ReSchedule"?`Reschedule ${l.clientName}'s Booking`:"Update Booking Status",customWidth:"20vw",contentNode:e.jsx(e.Fragment,{children:r==="View"?e.jsx(j,{}):r==="ReSchedule"?e.jsx(ge,{bookingID:l.id,handleConfirmation:S}):e.jsx(fe,{bookingID:l.id,prevStatus:l.status,handleConfirmation:S})})})]})},{sortingList:be}=X;function qe(){const{filteredList:d,modalToggle:o,selectedSort:a,setModalToggle:h,setSearchTerm:r,searchTerm:c,setSelectedSort:l,modalData:m,setModalData:b,apiData:S,handleConfirmation:j,selectedService:s,setSelectedService:i}=le();function y(u,f){h(!0),b({id:u,title:f})}return e.jsxs(F,{fixed:!0,children:[e.jsx(F.Header,{children:e.jsxs("div",{className:"flex w-full items-center justify-end space-x-4",children:[e.jsx(Z,{}),e.jsx(_,{})]})}),e.jsxs(F.Body,{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Booking List"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage all your bookings at one place."})]}),e.jsxs("div",{className:"my-4 flex items-end justify-between sm:my-0 sm:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:my-4 sm:flex-row",children:[e.jsx(ee,{placeholder:"Filter services...",className:"h-9 w-40 lg:w-[250px]",value:c,onChange:u=>r(u.target.value)}),e.jsx(O,{list:be,onChange:u=>l(u),selectedValue:a,slug:{label:"label",value:"value"}}),e.jsx(O,{list:S,onChange:u=>i(u),selectedValue:s,slug:{label:"name",value:"id"}})]}),e.jsx(H,{isOpen:o,setISOpen:h,hasTrigger:!0,triggerNode:e.jsx(A,{type:"button",onClick:()=>y("","Add New Booking"),children:"Add New Booking"}),title:m.title,contentNode:e.jsx(ue,{handleConfirmation:()=>{j(),h(!o)}})})]}),e.jsx(se,{className:"shadow"}),e.jsx(pe,{list:d,handleConfirmation:j})]})]})}export{qe as default};
