import{c as m,r as l,h as J,i as U,k as X,j as e,l as C,m as K,n as Q,o as Y,p as Z,d as N,e as v,L as k,q as b,B as y,O as ee}from"./index-DkidKY7D.js";import{L as E}from"./layout-C7enXjvf.js";import{u as te}from"./index-oe18SB1a.js";import{D as ne,a as se,b as ae,c as re,d as oe,e as ie}from"./dropdown-menu-CKjr6Fii.js";import{T as le,a as P,b as B,c as _}from"./tooltip-fcW14P49.js";import{S as ce,a as de,b as he,c as ue,d as pe,e as $}from"./select-dqCVHQmV.js";import{I as T}from"./IconLayoutDashboard-DEzlZwW-.js";import"./index-stKcZIEz.js";import"./index-C0CCeTT2.js";import"./index-DPfxzuVq.js";import"./index-sqcCN2LW.js";import"./index-BAGnQKRI.js";import"./index-BlF_HEDA.js";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O=m("outline","building-warehouse","IconBuildingWarehouse",[["path",{d:"M3 21v-13l9 -4l9 4v13",key:"svg-0"}],["path",{d:"M13 13h4v8h-10v-6h6",key:"svg-1"}],["path",{d:"M13 21v-9a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var me=m("outline","checklist","IconChecklist",[["path",{d:"M9.615 20h-2.615a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8",key:"svg-0"}],["path",{d:"M14 19l2 2l4 -4",key:"svg-1"}],["path",{d:"M9 8h4",key:"svg-2"}],["path",{d:"M9 12h2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W=m("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xe=m("outline","chevrons-left","IconChevronsLeft",[["path",{d:"M11 7l-5 5l5 5",key:"svg-0"}],["path",{d:"M17 7l-5 5l5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ve=m("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fe=m("outline","shopping-bag","IconShoppingBag",[["path",{d:"M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z",key:"svg-0"}],["path",{d:"M9 11v-5a3 3 0 0 1 6 0v5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge=m("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var je=m("filled","sitemap-filled","IconSitemapFilled",[["path",{d:"M2 16.667a2.667 2.667 0 0 1 2.667 -2.667h2.666a2.667 2.667 0 0 1 2.667 2.667v2.666a2.667 2.667 0 0 1 -2.667 2.667h-2.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M14 16.667a2.667 2.667 0 0 1 2.667 -2.667h2.666a2.667 2.667 0 0 1 2.667 2.667v2.666a2.667 2.667 0 0 1 -2.667 2.667h-2.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-1"}],["path",{d:"M8 4.667a2.667 2.667 0 0 1 2.667 -2.667h2.666a2.667 2.667 0 0 1 2.667 2.667v2.666a2.667 2.667 0 0 1 -2.667 2.667h-2.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-2"}],["path",{d:"M12 8a1 1 0 0 0 -1 1v2h-3c-1.645 0 -3 1.355 -3 3v1a1 1 0 0 0 1 1a1 1 0 0 0 1 -1v-1c0 -.564 .436 -1 1 -1h8c.564 0 1 .436 1 1v1a1 1 0 0 0 1 1a1 1 0 0 0 1 -1v-1c0 -1.645 -1.355 -3 -3 -3h-3v-2a1 1 0 0 0 -1 -1z",key:"svg-3"}]]);function ye({key:n,defaultValue:a}){const[s,t]=l.useState(()=>{const r=localStorage.getItem(n);return r!==null?JSON.parse(r):a});return l.useEffect(()=>{localStorage.setItem(n,JSON.stringify(s))},[s,n]),[s,t]}function Ce(){const[n,a]=ye({key:"collapsed-sidebar",defaultValue:!1});return l.useEffect(()=>{const s=()=>{a(window.innerWidth<768?!1:n)};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[n,a]),[n,a]}function g(){const{pathname:n}=J();return{checkActiveNav:s=>{const t=n.split("/").filter(r=>r!=="");return s==="/"&&t.length<1?!0:t.includes(s.replace(/^\//,""))}}}var w="Collapsible",[Ne,Xe]=U(w),[ke,I]=Ne(w),F=l.forwardRef((n,a)=>{const{__scopeCollapsible:s,open:t,defaultOpen:r,disabled:o,onOpenChange:i,...c}=n,[p=!1,d]=X({prop:t,defaultProp:r,onChange:i});return e.jsx(ke,{scope:s,disabled:o,contentId:te(),open:p,onOpenToggle:l.useCallback(()=>d(h=>!h),[d]),children:e.jsx(C.div,{"data-state":L(p),"data-disabled":o?"":void 0,...c,ref:a})})});F.displayName=w;var V="CollapsibleTrigger",q=l.forwardRef((n,a)=>{const{__scopeCollapsible:s,...t}=n,r=I(V,s);return e.jsx(C.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":L(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...t,ref:a,onClick:K(n.onClick,r.onOpenToggle)})});q.displayName=V;var S="CollapsibleContent",G=l.forwardRef((n,a)=>{const{forceMount:s,...t}=n,r=I(S,n.__scopeCollapsible);return e.jsx(Q,{present:s||r.open,children:({present:o})=>e.jsx(be,{...t,ref:a,present:o})})});G.displayName=S;var be=l.forwardRef((n,a)=>{const{__scopeCollapsible:s,present:t,children:r,...o}=n,i=I(S,s),[c,p]=l.useState(t),d=l.useRef(null),h=Y(a,d),x=l.useRef(0),M=x.current,R=l.useRef(0),z=R.current,j=i.open||c,D=l.useRef(j),f=l.useRef();return l.useEffect(()=>{const u=requestAnimationFrame(()=>D.current=!1);return()=>cancelAnimationFrame(u)},[]),Z(()=>{const u=d.current;if(u){f.current=f.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const A=u.getBoundingClientRect();x.current=A.height,R.current=A.width,D.current||(u.style.transitionDuration=f.current.transitionDuration,u.style.animationName=f.current.animationName),p(t)}},[i.open,t]),e.jsx(C.div,{"data-state":L(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!j,...o,ref:h,style:{"--radix-collapsible-content-height":M?`${M}px`:void 0,"--radix-collapsible-content-width":z?`${z}px`:void 0,...n.style},children:j&&r})});function L(n){return n?"open":"closed"}var we=F;const Ie=we,Se=q,Le=G;function Me({handleRemove:n,handleSelect:a,list:s,value:t}){return e.jsxs("div",{className:"p-2 absolute bottom-0 w-[100%] sm:mb-2",children:[e.jsx("div",{className:"ps-1 my-1",children:"Selected Center"}),e.jsxs(ce,{value:t,onValueChange:r=>{r==="delete"?n():a(r,!1)},children:[e.jsx(de,{className:"w-[100%]",children:e.jsx(he,{placeholder:"Change Center"})}),e.jsx(ue,{className:"bg-white",children:e.jsxs(pe,{children:[s==null?void 0:s.map(r=>e.jsx($,{value:r.centerID,className:"cursor-pointer",children:r.centerName},r.centerID)),e.jsx($,{value:"delete",children:"Remove Center"})]})})]})]})}function Re({links:n,isCollapsed:a,className:s,closeNav:t}){const{centerList:r,selectedCenter:o,handleCenterRemoval:i,handleCenterSelection:c}=N(),p=({sub:d,...h})=>{const x=`${h.title}-${h.href}`;return a&&d?l.createElement(Ae,{...h,sub:d,key:x,closeNav:t}):a?l.createElement(De,{...h,key:x,closeNav:t}):d?l.createElement(ze,{...h,sub:d,key:x,closeNav:t}):l.createElement(H,{...h,key:x,closeNav:t})};return e.jsxs("div",{"data-collapsed":a,className:v("group border-b bg-background py-2 transition-[max-height,padding] duration-500 data-[collapsed=true]:py-2 md:border-none",s),children:[e.jsx(le,{delayDuration:0,children:e.jsx("nav",{className:"grid gap-1 group-[[data-collapsed=true]]:justify-center group-[[data-collapsed=true]]:px-2",children:n.map(p)})}),o&&e.jsx(Me,{value:o,list:r,handleRemove:i,handleSelect:c})]})}function H({title:n,icon:a,label:s,href:t,closeNav:r,subLink:o=!1}){const{checkActiveNav:i}=g();return e.jsxs(k,{to:t,onClick:r,className:v(b({variant:i(t)?"secondary":"ghost",size:"sm"}),"h-12 justify-start text-wrap rounded-none px-6",o&&"h-10 w-full border-l border-l-slate-500 px-2"),"aria-current":i(t)?"page":void 0,children:[e.jsx("div",{className:"mr-2",children:a}),n,s&&e.jsx("div",{className:"ml-2 rounded-lg bg-primary px-1 text-[0.625rem] text-primary-foreground",children:s})]})}function ze({title:n,icon:a,label:s,sub:t,closeNav:r}){const{checkActiveNav:o}=g(),i=!!(t!=null&&t.find(c=>o(c.href)));return e.jsxs(Ie,{defaultOpen:i,children:[e.jsxs(Se,{className:v(b({variant:"ghost",size:"sm"}),"group h-12 w-full justify-start rounded-none px-6"),children:[e.jsx("div",{className:"mr-2",children:a}),n,s&&e.jsx("div",{className:"ml-2 rounded-lg bg-primary px-1 text-[0.625rem] text-primary-foreground",children:s}),e.jsx("span",{className:v('ml-auto transition-all group-data-[state="open"]:-rotate-180'),children:e.jsx(W,{stroke:1})})]}),e.jsx(Le,{className:"collapsibleDropdown",asChild:!0,children:e.jsx("ul",{children:t.map(c=>e.jsx("li",{className:"my-1 ml-8",children:e.jsx(H,{...c,subLink:!0,closeNav:r})},c.title))})})]})}function De({title:n,icon:a,label:s,href:t}){const{checkActiveNav:r}=g();return e.jsxs(P,{delayDuration:0,children:[e.jsx(B,{asChild:!0,children:e.jsxs(k,{to:t,className:v(b({variant:r(t)?"secondary":"ghost",size:"icon"}),"h-12 w-12"),children:[a,e.jsx("span",{className:"sr-only",children:n})]})}),e.jsxs(_,{side:"right",className:"flex items-center gap-4",children:[n,s&&e.jsx("span",{className:"ml-auto text-muted-foreground",children:s})]})]})}function Ae({title:n,icon:a,label:s,sub:t}){const{checkActiveNav:r}=g(),o=!!(t!=null&&t.find(i=>r(i.href)));return e.jsxs(ne,{children:[e.jsxs(P,{delayDuration:0,children:[e.jsx(B,{asChild:!0,children:e.jsx(se,{asChild:!0,children:e.jsx(y,{variant:o?"secondary":"ghost",size:"icon",className:"h-12 w-12",children:a})})}),e.jsxs(_,{side:"right",className:"flex items-center gap-4",children:[n," ",s&&e.jsx("span",{className:"ml-auto text-muted-foreground",children:s}),e.jsx(W,{size:18,className:"-rotate-90 text-muted-foreground"})]})]}),e.jsxs(ae,{side:"right",align:"start",sideOffset:4,children:[e.jsxs(re,{children:[n," ",s?`(${s})`:""]}),e.jsx(oe,{}),t.map(({title:i,icon:c,label:p,href:d})=>e.jsx(ie,{asChild:!0,children:e.jsxs(k,{to:d,className:`${r(d)?"bg-secondary":""}`,children:[c," ",e.jsx("span",{className:"ml-2 max-w-52 text-wrap",children:i}),p&&e.jsx("span",{className:"ml-auto text-xs",children:p})]})},`${i}-${d}`))]})]})}function Ee(){const{selectedCenter:n,userData:a}=N(),s=[{title:"Dashboard",label:"",href:"/dashboard",icon:e.jsx(T,{size:18})},{title:"Booking Requests",label:"",href:"/bookings",icon:e.jsx(fe,{size:18})},{title:"Service List",label:"",href:"/services",icon:e.jsx(me,{size:18})}],t=[{title:"Center List",label:"",href:"/center",icon:e.jsx(O,{size:18})},{title:"Team List",label:"",href:"/team",icon:e.jsx(je,{size:18})}],r=[{title:"Bookings",label:"",href:"/dashboard",icon:e.jsx(O,{size:18})},{title:"Find More Centers",label:"",href:"/",icon:e.jsx(T,{size:18})}];return{sidelinks:(a==null?void 0:a.userRole)==="Client"?r:n!==null?s:t}}function $e({className:n,isCollapsed:a,setIsCollapsed:s}){const{userData:t}=N(),{sidelinks:r}=Ee(),[o,i]=l.useState(!1);return l.useEffect(()=>{o?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},[o]),e.jsxs("aside",{className:v(`fixed left-0 right-0 top-0 z-50 w-full border-r-2 border-r-muted transition-[width] md:bottom-0 md:right-auto md:h-svh ${a?"md:w-14":"md:w-64"}`,n),children:[e.jsx("div",{onClick:()=>i(!1),className:`absolute inset-0 transition-[opacity] delay-100 duration-700 ${o?"h-svh opacity-50":"h-0 opacity-0"} w-full bg-black md:hidden`}),e.jsxs(E,{fixed:!0,className:o?"h-svh":"",children:[e.jsxs(E.Header,{sticky:!0,className:"z-50 flex justify-between px-4 py-3 shadow-sm md:px-4",children:[e.jsxs("div",{className:`flex items-center ${a?"":"gap-2"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",className:`transition-all ${a?"h-6 w-6":"h-8 w-8"}`,children:[e.jsx("rect",{width:"256",height:"256",fill:"none"}),e.jsx("line",{x1:"208",y1:"128",x2:"128",y2:"208",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.jsx("line",{x1:"192",y1:"40",x2:"40",y2:"192",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.jsx("span",{className:"sr-only",children:"Washing Center"})]}),e.jsxs("div",{className:`flex flex-col justify-end truncate ${a?"invisible w-0":"visible w-auto"}`,children:[e.jsx("span",{className:"font-medium",children:"Washing Center"}),e.jsx("span",{className:"text-xs",children:(t==null?void 0:t.userRole)==="Client"?"User Panel":"Admin Panel"})]})]}),e.jsx(y,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Toggle Navigation","aria-controls":"sidebar-menu","aria-expanded":o,onClick:()=>i(c=>!c),children:o?e.jsx(ge,{}):e.jsx(ve,{})})]}),e.jsx(Re,{id:"sidebar-menu",className:`z-40 h-full flex-1 overflow-auto ${o?"max-h-screen":"max-h-0 py-0 md:max-h-screen md:py-2"}`,closeNav:()=>i(!1),isCollapsed:a,links:r}),e.jsx(y,{onClick:()=>s(c=>!c),size:"icon",variant:"default",className:"absolute -right-5 top-1/2 z-50 hidden rounded-full md:inline-flex",children:e.jsx(xe,{stroke:1.5,className:`h-5 w-5 ${a?"rotate-180":""}`})})]})]})}function Ke(){const[n,a]=Ce();return e.jsxs("div",{className:"relative h-full overflow-hidden bg-background",children:[e.jsx($e,{isCollapsed:n,setIsCollapsed:a}),e.jsx("main",{id:"content",className:`overflow-x-hidden pt-16 transition-[margin] md:overflow-y-hidden md:pt-0 ${n?"md:ml-14":"md:ml-64"} h-full`,children:e.jsx(ee,{})})]})}export{Ke as default};
