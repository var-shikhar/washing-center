import{c as V,j as e,f as z,b as q,u as R,r as n,R as C,d as E,B as A}from"./index-SPzxwvR_.js";import{C as U}from"./customDialog-Bhby4QGT.js";import{S as G,a as J,b as Q,c as W,e as K}from"./select-BVWZtgqu.js";import{I as Y}from"./IconAdjustmentsHorizontal-sIGb77H1.js";import{T as Z,U as _}from"./user-nav-CZc4pGfo.js";import{I as ee}from"./input-Dn-YVckF.js";import{S as se}from"./separator-DmKSOQoF.js";import{L as F}from"./dropdown-menu-OaGcnt5M.js";import{C as T}from"./customTooltip-Ci-aDb6W.js";import{z as N,u as $,t as O}from"./index-DQNHyGGL.js";import{I as te}from"./IconSquareRoundedXFilled-BsUicaxz.js";import{I as ae}from"./IconSquareRoundedPlusFilled-BYFnEF3T.js";import{I as ie}from"./IconLayoutDashboard-htIIkI6B.js";import"./dialog-CW8kmMMT.js";import"./index-DmEFddgC.js";import"./index-Bd1xv4e-.js";import"./index-DT_MMp4y.js";import"./index-BVpJ5MBa.js";import"./index-BwVE_oro.js";import"./index-D_iKLw6D.js";import"./commonFn-D6AOWzB5.js";import"./index-bqrJ9XSM.js";import"./tooltip-WHQoM8es.js";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ne=V("outline","calendar-clock","IconCalendarClock",[["path",{d:"M10.5 21h-4.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v3",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h10",key:"svg-3"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-4"}],["path",{d:"M18 16.5v1.5l.5 .5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var re=V("outline","status-change","IconStatusChange",[["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M6 12v-2a6 6 0 1 1 12 0v2",key:"svg-2"}],["path",{d:"M15 9l3 3l3 -3",key:"svg-3"}]]);const le=({list:c,slug:o,selectedValue:t,onChange:h})=>{const r=c.find(d=>d[o.value]===t)??null;return e.jsx("div",{children:e.jsxs(G,{value:t,onValueChange:h,children:[e.jsx(J,{className:"w-auto",children:e.jsx(Q,{children:e.jsx("div",{className:"flex gap-2 items-center",children:r!==null?r[o.label]:e.jsx(Y,{size:18})})})}),e.jsx(W,{align:"end",children:Array.isArray(c)&&c.length>0&&c.map((d,l)=>e.jsx(K,{value:d[o.value],children:e.jsx("div",{children:d[o.label]})},l))})]})})},oe=()=>{const c=z(),{isLoggedIn:o,selectedCenter:t}=q(),{HandleGetRequest:h}=R(),[r,d]=n.useState({apiData:!0,bookingList:!0}),[l,m]=n.useState(!1),[f,v]=n.useState({title:"",id:""}),[b,s]=n.useState(""),[a,k]=n.useState(""),[y,p]=n.useState([]),[S,B]=n.useState([]),[L,I]=n.useState([]);n.useLayoutEffect(()=>{o||c("../auth/sign-in")},[o]),n.useEffect(()=>{r.apiData&&u(C.getAPIBooking,"apiData"),r.bookingList&&t&&u(`${C.commonBookingRoute}/${t}`,"bookingList")},[r.apiData,r.bookingList,t]),n.useEffect(()=>{if((S==null?void 0:S.length)>0){let x=S;a!==""&&(x=x.filter(g=>g.clientName.toLowerCase().includes(a.toLowerCase()))),b!==""&&(x=x.filter(g=>g.serviceID.toString().toLowerCase()===b.toString().toLowerCase())),n.startTransition(()=>{I(x)})}},[a,b,S]);async function u(x,g){const j=await h({route:x});(j==null?void 0:j.status)===200&&n.startTransition(()=>{if(d(D=>({...D,[g]:!1})),g==="apiData")p(j.data);else{const w=j.data.sort((M,H)=>{const X=new Date(M.createdAt);return new Date(H.createdAt).getTime()-X.getTime()});console.log(w),B(w)}})}function i(){n.startTransition(()=>{d(x=>({...x,bookingList:!0}))})}return{apiData:y,modalToggle:l,setModalToggle:m,selectedService:b,setSelectedService:s,searchTerm:a,setSearchTerm:k,modalData:f,setModalData:v,filteredList:L,handleConfirmation:i}},de=()=>{var I;const c=z(),{isLoggedIn:o,selectedCenter:t}=q(),{HandlePostRequest:h,HandleGetRequest:r}=R(),[d,l]=n.useState(!0),[m,f]=n.useState([]),[v,b]=n.useState(0),[s,a]=n.useState(null),k={userName:"",userEmail:"",userPhone:"",bookingDate:new Date().toISOString().split("T")[0],bookingTime:new Date().toTimeString().split(" ")[0],message:"Backend Booking Request"},[y,p]=n.useState({serviceID:(s==null?void 0:s.id)??"",centerID:t??"",servicePrice:(s==null?void 0:s.discPrice)??0,serviceAddons:((I=s==null?void 0:s.addons)==null?void 0:I.map(u=>({addonID:u.serviceID,addonPrice:u.price,addonDiscPrice:u.discPrice})))??[],isCustomizable:(s==null?void 0:s.isCustomizable)??!1,totalDiscountedPrice:(s==null?void 0:s.totalDiscountedPrice)??(s==null?void 0:s.discPrice)??0,totalPrice:(s==null?void 0:s.totalPrice)??(s==null?void 0:s.price)??0});n.useLayoutEffect(()=>{(!o||!t)&&c("../auth/sign-in")},[o,t]),n.useEffect(()=>{d&&t&&S(`${C.commonAdminServiceBooking}/${t}`)},[d,t]),n.useEffect(()=>{var u;if(s&&t){const i={serviceID:s.id,centerID:t,servicePrice:s.discPrice,serviceAddons:((u=s.addons)==null?void 0:u.map(x=>({addonID:x.serviceID,addonPrice:x.price,addonDiscPrice:x.discPrice})))??[],isCustomizable:s.isCustomizable,totalDiscountedPrice:s.totalDiscountedPrice??s.discPrice,totalPrice:s.totalPrice??s.price};n.startTransition(()=>{p(i)})}},[s]);async function S(u){const i=await r({route:u});(i==null?void 0:i.status)===200&&n.startTransition(()=>{f(i.data),l(!1)})}async function B(u,i){const x={...u,...y},g=await h({data:x,route:C.commonAdminServiceBooking,type:"post",toastDescription:"Booking has been created successfully!"});(g==null?void 0:g.status)===200&&i(g==null?void 0:g.data)}function L(u,i){if(s){let x=y.totalPrice,g=y.totalDiscountedPrice;const j=[...y.serviceAddons||[]],D=j.findIndex(w=>w.addonID.toString()===u.toString());if(i==="add")if(D===-1){const w=s.addons.find(M=>M.serviceID.toString()===u.toString());if(w)j.push({addonID:w.serviceID,addonPrice:w.price,addonDiscPrice:w.discPrice}),g+=w.discPrice,x+=w.price;else{console.error(`Addon with ID ${u} not found in bookedService.`);return}}else console.log(`Addon with ID ${u} is already added.`);else if(i==="remove")if(D!==-1)x-=j[D].addonPrice,g-=j[D].addonDiscPrice,j.splice(D,1);else{console.error(`Addon with ID ${u} not found for removal.`);return}n.startTransition(()=>{p(w=>({...w,totalPrice:x,totalDiscountedPrice:g,serviceAddons:j}))})}}return{serviceList:m,selectedService:s,defaultValues:k,selectedPhase:v,servicePricing:y,setSelectedService:a,setSelectedPhase:b,handleFormSubmission:B,handleCustomizableAddons:L}},ce=N.object({userName:N.string().min(2,{message:"Name should have at least 2 characters"}),userPhone:N.string().min(10,{message:"Phone number must be 10 digits"}).max(10,{message:"Phone number must be 10 digits"}),userEmail:N.string().min(1,{message:"Please enter your email"}).email({message:"Invalid email address"}),bookingDate:N.string().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Invalid date format"}),bookingTime:N.string().regex(/^\d{2}:\d{2}:\d{2}$/,{message:"Invalid time format"}),message:N.string().min(2,{message:"Message should have at least 2 characters"})}),me=({className:c,handleConfirmation:o,...t})=>{var u;const{selectedPhase:h,servicePricing:r,defaultValues:d,serviceList:l,selectedService:m,setSelectedService:f,setSelectedPhase:v,handleFormSubmission:b,handleCustomizableAddons:s}=de(),{register:a,handleSubmit:k,reset:y,formState:{errors:p,isValid:S,isDirty:B,isSubmitting:L}}=$({resolver:O(ce),defaultValues:d,mode:"onChange"});n.useEffect(()=>{d&&y(d)},[]);async function I(i){b(i,o)}return e.jsx("div",{className:E("grid gap-6",c),...t,children:e.jsx("form",{onSubmit:k(I),className:"p-6 bg-white rounded-lg shadow-md",children:h===0?e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"form-control w-[100%] p-2 border my-5",value:JSON.stringify(m),onChange:i=>f(JSON.parse(i.target.value)),children:[e.jsx("option",{value:"",children:"Select Service"}),l.map(i=>e.jsx("option",{value:JSON.stringify(i),children:i.serviceName},i.id))]}),m!==null&&e.jsxs("div",{className:"sm:px-2",children:[e.jsx("div",{className:"text-black font-semibold",children:"Service Price"}),e.jsx("hr",{className:"border-black mb-2"}),e.jsxs("div",{className:"flex gap-1 flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"",children:"Base Price"}),e.jsxs("div",{className:"font-semibold text-green-500",children:[e.jsxs("del",{className:"text-destructive text-xs",children:["₹ ",m.price,"/-"]}),"   ₹ ",m.discPrice,"/-"]})]}),(u=m.addons)==null?void 0:u.map(i=>{var x,g;return e.jsxs("div",{className:`flex justify-between items-center rounded px-2 ${m.isCustomizable&&!((x=r.serviceAddons)!=null&&x.some(j=>j.addonID.toString()===i.serviceID.toString()))&&"line-through bg-red-200 text-red-500 hover:text-red-700 transition duration-300"} `,children:[e.jsx("div",{className:"truncate",children:i.serviceName}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"font-semibold text-green-500",children:[e.jsxs("del",{className:"text-destructive text-xs",children:["₹ ",i.price,"/-"]}),"   ₹ ",i.discPrice,"/-"]}),m.isCustomizable&&e.jsx(e.Fragment,{children:(g=r.serviceAddons)!=null&&g.some(j=>j.addonID.toString()===i.serviceID.toString())?e.jsx(T,{isTextOnly:!0,content:"Remove Addon Service",trigger:e.jsx(te,{className:"cursor-pointer text-red-800",onClick:()=>s(i.serviceID,"remove")})}):e.jsx(T,{isTextOnly:!0,content:"Add Addon Service",trigger:e.jsx(ae,{className:"cursor-pointer text-green-800",onClick:()=>s(i.serviceID,"add")})})})]})]},i.serviceID)})]}),e.jsx("hr",{className:"border-black my-2"}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("div",{className:"text-black",children:"Total Price"}),e.jsxs("div",{className:"font-semibold text-green-500",children:[e.jsxs("del",{className:"text-destructive text-sm",children:["₹ ",r.totalPrice,"/-"]}),"   ₹ ",r.totalDiscountedPrice,"/-"]})]}),e.jsx(A,{className:"mt-2 w-full",type:"button",onClick:()=>v(3),children:"Next"})]})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Booking Details"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"User Name"}),e.jsx("input",{type:"text",...a("userName"),placeholder:"John Doe",className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),p.userName&&e.jsx("p",{className:"text-red-600 text-sm",children:p.userName.message})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"User Phone"}),e.jsx("input",{type:"tel",...a("userPhone"),placeholder:"9898XXXXXX",className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),p.userPhone&&e.jsx("p",{className:"text-red-600 text-sm",children:p.userPhone.message})]}),e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"User Email"}),e.jsx("input",{type:"email",...a("userEmail"),placeholder:"john@example.com",className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),p.userEmail&&e.jsx("p",{className:"text-red-600 text-sm",children:p.userEmail.message})]})]}),e.jsxs("div",{className:"mb-4 flex flex-col lg:flex-row lg:space-x-4",children:[e.jsxs("div",{className:"flex-1 mb-4 lg:mb-0",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Booking Date"}),e.jsx("input",{type:"date",...a("bookingDate"),min:new Date().toISOString().split("T")[0],className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),p.bookingDate&&e.jsx("p",{className:"text-red-600 text-sm",children:p.bookingDate.message})]}),e.jsxs("div",{className:"flex-1 mb-4 lg:mb-0",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Booking Time"}),e.jsx("input",{type:"time",...a("bookingTime"),min:new Date().toTimeString().split(" ")[0],className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),p.bookingTime&&e.jsx("p",{className:"text-red-600 text-sm",children:p.bookingTime.message})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Message"}),e.jsx("textarea",{...a("message"),rows:3,className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),p.message&&e.jsx("p",{className:"text-red-600 text-sm",children:p.message.message})]}),e.jsx(A,{className:"mt-2 w-full",type:"submit",disabled:!B||!S||L,children:"Book Service"})]})})})},ue=N.object({id:N.string(),newDate:N.string().regex(/^\d{4}-\d{2}-\d{2}$/,{message:"Invalid date format"}).refine(c=>{const o=new Date(c),t=new Date;return t.setHours(0,0,0,0),o>t},{message:"The date must be greater than today"}),newTime:N.string().nonempty({message:"New time is required"})});function xe({className:c,bookingID:o,handleConfirmation:t,...h}){const{HandlePostRequest:r}=R(),{register:d,handleSubmit:l,formState:{errors:m,isValid:f}}=$({resolver:O(ue),mode:"onChange",defaultValues:{id:o,newDate:new Date().toISOString().split("T")[0],newTime:new Date().toTimeString().split(" ")[0]}});async function v(b){const s=await r({route:C.commonBookingRescheduleRoute,data:b,toastDescription:"Booking has rescheduled successfully",type:"put"});(s==null?void 0:s.status)===200&&t()}return e.jsx("div",{className:E("grid gap-6",c),...h,children:e.jsxs("form",{onSubmit:l(v),className:"p-6 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"New Date"}),e.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],...d("newDate"),className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),m.newDate&&e.jsx("p",{className:"text-red-600 text-sm",children:m.newDate.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"New Time"}),e.jsx("input",{type:"time",...d("newTime"),min:new Date().toTimeString().split(" ")[0],className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full"}),m.newTime&&e.jsx("p",{className:"text-red-600 text-sm",children:m.newTime.message})]}),e.jsx(A,{className:"mt-2 w-full",type:"submit",disabled:!f,children:"Reschedule Booking"})]})})}const ge=[{label:"Ascending",value:"ascending"},{label:"Descending",value:"descending"}],he=[{label:"Confirmed",value:"Confirmed"},{label:"Rescheduled",value:"Rescheduled"},{label:"Cancelled",value:"Cancelled"},{label:"Completed",value:"Completed"}],fe={sortingList:ge,bookingStatus:he},{bookingStatus:P}=fe,pe=N.object({id:N.string(),statusID:N.string().nonempty({message:"Status is required"})});function be({className:c,bookingID:o,prevStatus:t,handleConfirmation:h,...r}){const{HandlePostRequest:d}=R(),{register:l,handleSubmit:m,formState:{errors:f,isValid:v}}=$({resolver:O(pe),mode:"onChange",defaultValues:{id:o,statusID:""}});async function b(s){const a=await d({route:C.commonBookingRoute,data:s,toastDescription:"Status has updated successfully",type:"put"});(a==null?void 0:a.status)===200&&h()}return e.jsx("div",{className:E("grid gap-6",c),...r,children:e.jsxs("form",{onSubmit:m(b),className:"p-6 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mt-1 py-2 rounded-md w-full",children:"Select Status"}),e.jsx("select",{...l("statusID"),className:"mt-1 p-2 border border-gray-300 rounded-md focus:border-transparent focus:ring-2 focus:ring-black focus:outline-none w-full",children:P==null?void 0:P.map(s=>{const a=t===P[0].value,k=t===P[1].value,y=a&&s.value===P[1].value||k&&(s.value===P[0].value||s.value===P[1].value);return e.jsx("option",{value:s.value,disabled:y,children:s.label},s.value)})}),f.statusID&&e.jsx("p",{className:"text-red-600 text-sm",children:f.statusID.message})]}),e.jsx(A,{className:"mt-2 w-full",type:"submit",disabled:!v,children:"Reschedule Booking"})]})})}const je=({list:c,handleConfirmation:o})=>{const[t,h]=n.useState(!1),[r,d]=n.useState("View"),[l,m]=n.useState({});function f(s,a){n.startTransition(()=>{m(s),h(!0),d(a)})}function v(){h(!t),o()}const b=()=>{var s,a;return e.jsxs("div",{className:"rounded bg-slate-300 p-3",children:[e.jsx("div",{className:"text-2xl font-semibold",children:l.serviceName}),((s=l==null?void 0:l.addonList)==null?void 0:s.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t-2 border-b-2 my-2",children:"Addon List"}),e.jsx("div",{className:"flex gap-2 flex-col",children:(a=l==null?void 0:l.addonList)==null?void 0:a.map(k=>e.jsx("b",{children:k.addonName},k.addonID))})]})]})};return e.jsxs("div",{className:"overflow-x-auto overscroll-y-none",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 rounded-s py-3 text-left font-bold text-xs text-white bg-black uppercase tracking-wider md:px-6",children:"S.No."}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Appointment ID"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Client Details"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Appintment Date & Time"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Booked Service"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Total Amount"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Message"})}),e.jsx("th",{className:"px-2 py-3 bg-black",children:e.jsx("div",{className:"text-left bg-black font-bold text-xs text-white  uppercase tracking-wider w-max",children:"Status"})}),e.jsx("th",{className:"px-2 rounded-e py-3 text-left font-bold text-xs text-white bg-black uppercase tracking-wider md:px-6",children:"Interact"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c==null?void 0:c.map((s,a)=>e.jsxs("tr",{className:"bg-gray-50 text-gray-900 hover:bg-gray-100",children:[e.jsxs("td",{className:"py-4 text-center relative",children:[s.isRescheduled&&e.jsx("div",{className:"absolute top-0 left-0 rounded-r-sm px-3 text-sm font-semibold bg-red-300 text-red-600",children:"Rescheduled"}),a+1]}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{children:[" ",s.id," ",e.jsx("br",{})," ",new Date(s.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})]})}),e.jsxs("td",{className:"py-4 text-center",children:[s.clientName,e.jsx("br",{})," ",e.jsx("small",{children:s.clientNumber})]}),e.jsx("td",{className:"py-4 text-center",children:e.jsxs("div",{children:[new Date(s.appointmentDate).toLocaleDateString("en-GB")," ",e.jsx("br",{}),new Date(`1970-01-01T${s.appointmentTime}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})]})}),e.jsx("td",{className:"py-4 text-center",children:s.serviceName}),e.jsxs("td",{className:"py-4 text-center",children:["₹ ",s.totalAmount,"/-"]}),e.jsx("td",{className:"py-4",children:e.jsx("div",{className:"text-center w-28 truncate",children:e.jsx(T,{content:s.message,trigger:e.jsx("div",{className:"w-[100%] truncate",children:s.message})})})}),e.jsx("td",{className:"py-4 text-center",children:s.status}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(T,{content:"View Booked Services",trigger:e.jsx(ie,{className:"cursor-pointer rounded-md border p-1 bg-slate-400 hover:bg-slate-600 transition-all fade-in-100 text-black hover:text-white",size:"25",onClick:()=>f(s,"View")})}),e.jsx(T,{content:"Reschedule Booking Request",trigger:e.jsx(ne,{className:"cursor-pointer rounded-md border p-1 bg-slate-400 hover:bg-slate-600 transition-all fade-in-100 text-black hover:text-white",size:"25",onClick:()=>f(s,"ReSchedule")})}),s.status!=="Cancelled"&&s.status!=="Completed"&&e.jsx(T,{content:"Update Booking Status",trigger:e.jsx(re,{className:"cursor-pointer rounded-md border p-1 bg-slate-400 hover:bg-slate-600 transition-all fade-in-100 text-black hover:text-white",size:"25",onClick:()=>f(s,"Status")})})]})})]},s.id))})]}),e.jsx(U,{isOpen:t,setISOpen:h,hasTrigger:!1,title:r==="View"?"Booking Details":r==="ReSchedule"?`Reschedule ${l.clientName}'s Booking`:"Update Booking Status",customWidth:"20vw",contentNode:e.jsx(e.Fragment,{children:r==="View"?e.jsx(b,{}):r==="ReSchedule"?e.jsx(xe,{bookingID:l.id,handleConfirmation:v}):e.jsx(be,{bookingID:l.id,prevStatus:l.status,handleConfirmation:v})})})]})};function He(){const{filteredList:c,modalToggle:o,setModalToggle:t,setSearchTerm:h,searchTerm:r,modalData:d,setModalData:l,apiData:m,handleConfirmation:f,selectedService:v,setSelectedService:b}=oe();function s(a,k){t(!0),l({id:a,title:k})}return e.jsxs(F,{fixed:!0,children:[e.jsx(F.Header,{children:e.jsxs("div",{className:"flex w-full items-center justify-end space-x-4",children:[e.jsx(Z,{}),e.jsx(_,{})]})}),e.jsxs(F.Body,{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Booking List"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage all your bookings at one place."})]}),e.jsxs("div",{className:"my-4 flex items-end justify-between sm:my-0 sm:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:my-4 sm:flex-row",children:[e.jsx(ee,{placeholder:"Filter services...",className:"h-9 w-40 lg:w-[250px]",value:r,onChange:a=>h(a.target.value)}),e.jsx(le,{list:m,onChange:a=>b(a),selectedValue:v,slug:{label:"name",value:"id"}})]}),e.jsx(U,{isOpen:o,setISOpen:t,hasTrigger:!0,triggerNode:e.jsx(A,{type:"button",onClick:()=>s("","Add New Booking"),children:"Add New Booking"}),title:d.title,contentNode:e.jsx(me,{handleConfirmation:()=>{f(),t(!o)}})})]}),e.jsx(se,{className:"shadow"}),e.jsx(je,{list:c,handleConfirmation:f})]})]})}export{He as default};
