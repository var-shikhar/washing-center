import{f as p,u as E,r as l,j as t,B as v,d,h as $,P as f,x as _,n as M,b as z,c as q,a as D,R as F}from"./index-Dk9JA_Lc.js";import{D as A,a as N,b as j,e as m,c as H,d as B,n as G}from"./dropdown-menu-Ca9jKMhm.js";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var g=p("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O=p("outline","moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=p("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);function oe(){const{theme:a,setTheme:s}=E();return l.useEffect(()=>{const n=a==="dark"?"#00959f":"#fff",e=document.querySelector("meta[name='theme-color']");e&&e.setAttribute("content",n)},[a]),t.jsxs(A,{children:[t.jsx(N,{asChild:!0,children:t.jsxs(v,{variant:"ghost",size:"icon",className:"scale-95 rounded-full",children:[t.jsx(K,{className:"size-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),t.jsx(O,{className:"absolute size-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),t.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),t.jsxs(j,{align:"end",children:[t.jsxs(m,{onClick:()=>s("light"),children:["Light"," ",t.jsx(g,{size:14,className:d("ml-auto",a!=="light"&&"hidden")})]}),t.jsxs(m,{onClick:()=>s("dark"),children:["Dark",t.jsx(g,{size:14,className:d("ml-auto",a!=="dark"&&"hidden")})]}),t.jsxs(m,{onClick:()=>s("system"),children:["System",t.jsx(g,{size:14,className:d("ml-auto",a!=="system"&&"hidden")})]})]})]})}var x="Avatar",[Q,re]=$(x),[V,w]=Q(x),C=l.forwardRef((a,s)=>{const{__scopeAvatar:n,...e}=a,[r,o]=l.useState("idle");return t.jsx(V,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:o,children:t.jsx(f.span,{...e,ref:s})})});C.displayName=x;var S="AvatarImage",k=l.forwardRef((a,s)=>{const{__scopeAvatar:n,src:e,onLoadingStatusChange:r=()=>{},...o}=a,c=w(S,n),i=J(e,o.referrerPolicy),u=_(h=>{r(h),c.onImageLoadingStatusChange(h)});return M(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?t.jsx(f.img,{...o,ref:s,src:e}):null});k.displayName=S;var I="AvatarFallback",L=l.forwardRef((a,s)=>{const{__scopeAvatar:n,delayMs:e,...r}=a,o=w(I,n),[c,i]=l.useState(e===void 0);return l.useEffect(()=>{if(e!==void 0){const u=window.setTimeout(()=>i(!0),e);return()=>window.clearTimeout(u)}},[e]),c&&o.imageLoadingStatus!=="loaded"?t.jsx(f.span,{...r,ref:s}):null});L.displayName=I;function J(a,s){const[n,e]=l.useState("idle");return M(()=>{if(!a){e("error");return}let r=!0;const o=new window.Image,c=i=>()=>{r&&e(i)};return e("loading"),o.onload=c("loaded"),o.onerror=c("error"),o.src=a,s&&(o.referrerPolicy=s),()=>{r=!1}},[a,s]),n}var R=C,b=k,y=L;const P=l.forwardRef(({className:a,...s},n)=>t.jsx(R,{ref:n,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s}));P.displayName=R.displayName;const T=l.forwardRef(({className:a,...s},n)=>t.jsx(b,{ref:n,className:d("aspect-square h-full w-full",a),...s}));T.displayName=b.displayName;const U=l.forwardRef(({className:a,...s},n)=>t.jsx(y,{ref:n,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s}));U.displayName=y.displayName;const W=(a,s)=>{const n=Number(a),e=Number(s),r=`https://www.google.com/maps/dir/?api=1&destination=${n},${e}`,o=`geo:${n},${e}`,i=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?o:r;window.location.href=i};function X(a){const[s,n]=a.split(":"),e=parseInt(s,10),r=e>=12;return`${e%12||12}:${n} ${r?"PM":"AM"}`}function Y(a){const[s,n]=a.split(":"),e=new Date;return e.setHours(parseInt(s),parseInt(n),0,0),e.toTimeString().split(" ")[0]}function Z(a){const s=a.split(" ");return(s.length>1?s.slice(0,2).map(e=>e.charAt(0).toUpperCase()):a.length>=2?[a.charAt(0).toUpperCase(),a.charAt(1).toUpperCase()]:[a.charAt(0).toUpperCase()]).join("")}const ee=(a,s,n,e)=>{const o=(n-a)*(Math.PI/180),c=(e-s)*(Math.PI/180),i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(a*(Math.PI/180))*Math.cos(n*(Math.PI/180))*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},ae={handleGMapURL:W,getTimeinAMPMfromTimeString:X,getMaxTimeforInput:Y,getNameAbbreviation:Z,getCalculateDistance:ee},{getNameAbbreviation:te}=ae;function ie(){const a=z(),{HandleGetRequest:s}=q(),{handleLoggedOut:n,userData:e}=D();async function r(){const o=await s({route:F.getLogoutRoute});(o==null?void 0:o.status)===200&&(n(),a("../"))}return t.jsxs(A,{children:[t.jsx(N,{asChild:!0,children:t.jsx(v,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:t.jsxs(P,{className:"h-8 w-8",children:[t.jsx(T,{src:"/avatars/01.png",alt:"@washing-center"}),t.jsx(U,{children:te((e==null?void 0:e.userName)??"User")})]})})}),t.jsxs(j,{className:"w-56",align:"end",forceMount:!0,children:[t.jsx(H,{className:"font-normal",children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium leading-none",children:e==null?void 0:e.userName}),t.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.userEmail})]})}),t.jsx(B,{}),t.jsxs(m,{onClick:r,className:"cursor-pointer",children:["Log out",t.jsx(G,{children:"⇧⌘Q"})]})]})]})}export{P as A,oe as T,ie as U,T as a,U as b};
